import{r as t,j as e}from"./index-CqnLHel-.js";const p=({src:i,className:a="",controls:d=!1})=>{const[o,c]=t.useState(!1),[n,u]=t.useState(!1),s=t.useRef(null);return t.useEffect(()=>{const r=new IntersectionObserver(([l])=>{l.isIntersecting&&(u(!0),r.disconnect())},{threshold:.1});return s.current&&r.observe(s.current),()=>r.disconnect()},[]),e.jsxs("div",{ref:s,className:`relative ${a}`,children:[!o&&n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:e.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}),n&&e.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:d,onLoadedData:()=>c(!0),className:`w-full h-full object-cover transition-opacity duration-500 rounded-md ${o?"opacity-100":"opacity-0"}`,children:[e.jsx("source",{src:i,type:"video/mp4"}),"Your browser does not support the video tag."]})]})};export{p as S};
